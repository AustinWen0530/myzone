(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{396:function(s,t,a){s.exports=a.p+"assets/img/yuanxinglian2.ea7abe9d.png"},397:function(s,t){s.exports="data:image/png;base64,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"},455:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("JavaScript在解决复用性方面做过很多尝试，最终确定了利用原型和原型链来解决。这和Java等高级语言有很大的不同，Java可以通过"),n("code",[s._v("extend")]),s._v("关键字继承某个类（class）以轻松实现复用。")]),s._v(" "),n("p",[s._v("而在ES6之前，JavaScript 中除了基础类型外的数据类型都是对象（引用类型），没有类（class），为了实现类似继承以便复用代码的能力，JavaScript选择了原型和原型链。甚至在ES6之后，JavaScript也没有真正的类（class）。ES6虽然提供了"),n("code",[s._v("class")]),s._v("关键字让我么可以伪造一个“类”，但其实只是语法糖而已，本质上仍然是一个对象。ES6实现的继承，本质仍是基于原型和原型链。")]),s._v(" "),n("h2",{attrs:{id:"_9-1-原型、prototype、-proto"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-原型、prototype、-proto"}},[s._v("#")]),s._v(" 9.1 原型、prototype、__"),n("strong",[s._v("proto__")])]),s._v(" "),n("ol",[n("li",[n("p",[n("strong",[s._v("原型")]),s._v("是一个对象。")])]),s._v(" "),n("li",[n("p",[n("strong",[n("code",[s._v("prototype")]),s._v("是函数的一个属性而已，也是一个对象，它和原型没有绝对的关系")]),s._v("（很多书、很多网络文章都模糊地将prototype表述为原型，这是严重不对的）。JavaScript里函数也是一种对象，每个对象都有一个原型，但不是所有对象都有"),n("code",[s._v("prototype")]),s._v("属性，实际上只有函数才有这个属性。")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("a")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" b"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//函数才有prototype属性")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> function(){}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//非函数，没有prototype属性")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> undefined")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("每个对象(实例)都有一个属性"),n("code",[s._v("__proto__")]),s._v("，指向他的构造函数（constructor）的"),n("code",[s._v("prototype")]),s._v("属性。")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("一个对象的原型就是它的构造函数的"),n("code",[s._v("prototype")]),s._v("属性的值")]),s._v("，因此**"),n("code",[s._v("__proto__")]),s._v("也即原型的代名词**。")])]),s._v(" "),n("li",[n("p",[s._v("对象的"),n("code",[s._v("__proto__")]),s._v("也有自己的"),n("code",[s._v("__proto__")]),s._v("，层层向上，直到"),n("code",[s._v("__proto__")]),s._v("为null。换句话说，原型本身也有自己的原型。这种由原型层层链接起来的数据结构成为 "),n("strong",[s._v("原型链")]),s._v("。因为null不再有原型，所以原型链的末端是null。")])])]),s._v(" "),n("p",[s._v("让我们用更多代码来验证一下以上结论：")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("a")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" b"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//a的构造函数是「Function函数」")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> true")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//b的构造函数是「Array函数」")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> true")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//因为「Function函数」和「Array函数」又都是对象，其构造函数")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//是「Object函数」，所以，a和b的原型的原型都是Object.prototype")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> true")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> true")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Object作为顶级对象的构造函数，它实例的原型本身就不再有原型了，因此它原型")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//的__proto__属性为null")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> null")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//也即Object类型对象，其原型（Object.prototype）的__proto__为null")]),s._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> null")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("p",[s._v("三者关系图如下：")]),s._v(" "),n("blockquote",[n("p",[s._v("使用"),n("code",[s._v("__proto__")]),s._v("是有争议的，也不鼓励使用它。因为它从来没有被包括在EcmaScript语言规范中，但是现代浏览器都实现了它。"),n("code",[s._v("__proto__")]),s._v("属性已在ECMAScript 6语言规范中标准化，用于确保Web浏览器的兼容性，因此它未来将被支持。但是，它已被"),n("strong",[s._v("不推荐使用")]),s._v("，现在更推荐使用"),n("code",[s._v("Object.getPrototypeOf")]),s._v("/"),n("code",[s._v("Reflect.getPrototypeOf")]),s._v(" 和"),n("code",[s._v("Object.setPrototypeOf")]),s._v("/"),n("code",[s._v("Reflect.setPrototypeOf")]),s._v("（尽管如此，设置对象的原型是一个缓慢的操作，如果性能要求很高，应该避免设置对象的原型）。")])]),s._v(" "),n("h2",{attrs:{id:"_9-2-原型继承"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-原型继承"}},[s._v("#")]),s._v(" 9.2 原型继承")]),s._v(" "),n("p",[s._v("使用最新的方法"),n("code",[s._v("Object.setPrototypeOf")]),s._v("（类似"),n("code",[s._v("Reflect.setPrototypeOf")]),s._v("）可以很方便地给对象设置原型，这个对象会继承该原型所有属性和方法。")]),s._v(" "),n("p",[s._v("但是，"),n("code",[s._v("setPrototypeOf")]),s._v("的性能很差，我们应该尽量使用 "),n("code",[s._v("Object.create()")]),s._v("来为某个对象设置原型。")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//obj的原型是Object.prototype")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" obj"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("methodA")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"coffe"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" newObj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//以obj为原型创建一个新的对象")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//methodA实际上是newObj原型对象obj上的方法。也即newObj继承了它的原型对象obj的属性和方法。")]),s._v("\nnewObj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("methodA")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> coffe")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h2",{attrs:{id:"_9-3-原型链的查找机制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-原型链的查找机制"}},[s._v("#")]),s._v(" 9.3 原型链的查找机制")]),s._v(" "),n("p",[s._v("当我们访问某个对象的方法或者属性，如果该对象上没有该属性或者方法，JS引擎就会遍历原型链上的每一个原型对象，在这些原型对象里面查找该属性或方法，直到找到为止，若遍历了整个原型链仍然找不到，则报错。代码示例如下：")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" obj"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("methodA")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"coffe"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" newObj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//以obj为原型创建一个新的对象")]),s._v("\n\nnewObj"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"methodA"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> false")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("上面的代码，"),n("code",[s._v("hasOwnProperty")]),s._v("方法并未在"),n("code",[s._v("newObj")]),s._v("上定义，也没有在它的原型"),n("code",[s._v("obj")]),s._v("上定义，是它原型链上原型"),n("code",[s._v("Object.prototype")]),s._v("的方法。其原型链查找顺序如下图所示：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(396),alt:""}})]),s._v(" "),n("p",[s._v("是不是感觉和作用域链上“变量的查找机制”比较相似？没错，这就是JavaScript所遵循的设计美学之一：归一化。你也可以理解成一致性、相似性。")]),s._v(" "),n("h2",{attrs:{id:"_9-4-再来说说类-class）的prototype和-proto"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-4-再来说说类-class）的prototype和-proto"}},[s._v("#")]),s._v(" 9.4 再来说说类(class）的prototype和__proto__")]),s._v(" "),n("p",[s._v("ES6之后，类(class)也有了prototype属性，为什么呢，因为class本质上是构造函数的语法糖。不信可以看如下代码：")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//>> "function"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("说明class本质上也是函数，所以它带有prototype属性是十分正常的事。")]),s._v(" "),n("p",[s._v("然后，在Chrome浏览器里调试如下代码：")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("得到的结果如下图：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(397),alt:""}})]),s._v(" "),n("p",[s._v("上面代码说明"),n("strong",[s._v("类的prototype是一个对象")]),s._v("，它包含有"),n("code",[s._v("constructor")]),s._v("属性。这和函数的prototype属性表现具有一致性。")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("constructor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> true")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("上面代码说明一个重要结论："),n("strong",[s._v("类本身指向的构造函数")]),s._v("。")]),s._v(" "),n("p",[s._v("而且，事实上，"),n("strong",[s._v("类的所有方法都定义在类的"),n("code",[s._v("prototype")]),s._v("属性上面")]),s._v("。同样可以通过Chrome调试验证，请自行验证。")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 等同于")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toValue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("h3",{attrs:{id:"定理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定理"}},[s._v("#")]),s._v(" 定理")]),s._v(" "),n("p",[s._v("class 作为构造函数的语法糖，同时有"),n("code",[s._v("prototype")]),s._v("属性和"),n("code",[s._v("__proto__")]),s._v("属性，因此同时存在两条继承链。")]),s._v(" "),n("p",[s._v("（1）子类的"),n("code",[s._v("__proto__")]),s._v("属性，表示构造函数的继承，总是指向父类。")]),s._v(" "),n("p",[s._v("（2）子类"),n("code",[s._v("prototype")]),s._v("属性的"),n("code",[s._v("__proto__")]),s._v("属性，表示方法的继承，总是指向父类的"),n("code",[s._v("prototype")]),s._v("属性。")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("B")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("B")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("A")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> true")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("B")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("A")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//>> true")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);